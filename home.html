<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link rel="icon" href="./Images/Login/Round logo.png" />
    <title>DveinMart</title>
    <link rel="stylesheet" href="./Styles/home.css" />
</head>

<body>

    <div class="top-header">
        <div class="header-left">
            <img src="./Images/Login/Login Logo.ico">
            <div class="header-title">DveinMart</div>
        </div>

        <div class="header-right">
            <button class="nav-btn" onclick="window.location='cart.html'">
                üõí Cart
                <span id="cart-count" style="margin-left: 5px; background-color: var(--accent); color: #000; padding: 2px 7px; border-radius: 50%; font-weight: 600; font-size: 12px; display: none;">0</span>
            </button>
            <button class="nav-btn" onclick="window.location='index.html'">Login</button>
        </div>
    </div>

    <div class="nav-menu">

        <div class="nav-item" onclick="window.location='home.html'">Home</div>

        <div class="nav-item dropdown">
            Categories ‚ñæ
            <div class="dropdown-menu">
                <div onclick="window.location='products-furniture.html'">Furniture</div>
                <div onclick="window.location='products-grocery.html'">Grocery</div>
                <div onclick="window.location='products-clothes.html'">Fashion</div>
                <div onclick="window.location='products-electronics.html'">Electronics</div>
            </div>
        </div>

        <div class="nav-item" onclick="scrollToAbout()">About</div>
        <div class="nav-item" onclick="scrollToSupport()">Support</div>
    </div>

    <div class="slider-container">
        <img src="./Images/Home/Bigimage 1.jpg" class="slide">
        <img src="./Images/Home/Bigimage 2.jpg" class="slide">
        <img src="./Images/Home/Bigimage 3.jpg" class="slide">
        <img src="./Images/Home/Bigimage 4.jpg" class="slide">

        <button class="slide-btn prev" onclick="moveSlide(-1)">‚ùÆ</button>
        <button class="slide-btn next" onclick="moveSlide(1)">‚ùØ</button>
    </div>

    <div class="container">
        <div class="category-section">

            <div class="category-card" onclick="window.location='products-furniture.html'">
                <img src="./Images/Home/Furniture.jpg">
                <h3>Furniture</h3>
            </div>

            <div class="category-card" onclick="window.location='products-grocery.html'">
                <img src="./Images/Home/Groceries.jpeg">
                <h3>Groceries</h3>
            </div>

            <div class="category-card" onclick="window.location='products-clothes.html'">
                <img src="./Images/Home/Fashion.jpeg">
                <h3>Fashion</h3>
            </div>

            <div class="category-card" onclick="window.location='products-electronics.html'">
                <img src="./Images/Home/Electronics.jpeg">
                <h3>Electronics</h3>
            </div>

        </div>
    </div>

    <footer>

        <div class="footer-left" id="about-section">
            <h3>About Us</h3>
            <p>
                Welcome to <strong>DveinMart</strong>, your one-stop destination for quality products that make life
                easy.  We bring furniture, groceries, clothing, electronics ‚Äî all at the best prices.
            </p>

            <br>
            <div class="footer-contact" id="support-section">
                <p><strong>Contact:</strong> +91 9994718702</p>
                <p><strong>Email:</strong> dveininnovation@gmail.com</p>
            </div>
        </div>

        <div class="footer-center">
            <h2>Thank You For Purchasing !</h2>
        </div>

        <div class="footer-right">
            <h3>Location</h3>
            <p>SSPDL, Alpha City</p>
            <p>Navalur, Chennai</p>
            <p><strong>Pincode</strong> - 600130</p>
        </div>

    </footer>

    <script>
        // üéØ NEW FUNCTION: Updates the Cart Count in the Header
        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const countElement = document.getElementById('cart-count');

            if (countElement) {
                const totalCount = cart.reduce((total, item) => total + item.quantity, 0);

                if (totalCount > 0) {
                    countElement.textContent = totalCount;
                    countElement.style.display = 'inline';
                } else {
                    countElement.textContent = '0';
                    countElement.style.display = 'none';
                }
            }
        }
        
        /* SLIDER LOGIC - UNCHANGED */
        let slideIndex = 0;
        const slides = document.querySelectorAll(".slide");

        function showSlides() {
            slides.forEach(img => img.style.display = "none");
            slideIndex++;
            if (slideIndex > slides.length) slideIndex = 1;
            slides[slideIndex - 1].style.display = "block";
            setTimeout(showSlides, 4000);
        }

        showSlides();

        function moveSlide(n) {
            slideIndex += n - 1;
            if (slideIndex < 0) slideIndex = slides.length - 1;
            if (slideIndex >= slides.length) slideIndex = 0;
            slides.forEach(img => img.style.display = "none");
            slides[slideIndex].style.display = "block";
        }

        /* SCROLL FUNCTIONS - UNCHANGED */
        function scrollToAbout() {
            document.getElementById("about-section").scrollIntoView({ behavior: "smooth" });
        }

        function scrollToSupport() {
            document.getElementById("support-section").scrollIntoView({ behavior: "smooth" });
        }
        
        // üéØ INITIAL CALL: Load cart count on page load
        updateCartCount();
    </script>

</body>

</html>